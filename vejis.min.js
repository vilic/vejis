/* VEJIS v0.5.0.7 http://vejis.org */
(function(){function k(a){throw Error(a);}function z(a,f,d){if(d)for(var e in a)v.call(a,e)&&(f[e]=a[e]);else for(e in a)v.call(a,e)&&!v.call(f,e)&&(f[e]=a[e])}function n(a,f){a&&a.__relatedInstance__&&(a=a.__relatedInstance__);if(f.__isInstance__)return f.__isInstance__(a);if(null!=a&&f===Object)return!0;switch(typeof a){case "object":case "function":if(a)for(var d=a.constructor;d;){if(d==f||d.prototype instanceof f)return!0;try{d=d.__classInfo__.inheritInfo.Class}catch(e){d=null}}case "undefined":return a instanceof f;
default:return new a.constructor instanceof f}}function r(a){return"function"==typeof a||"object"==typeof a&&!!a&&!!a.__isInstance__}function M(a){return"object"==typeof a&&!!a&&"number"==typeof a.__type__}function D(a,f){if(arguments.length){if(r(a)){if(1==arguments.length)switch(a){case Number:case x:f=0;break;case String:f="";break;case Boolean:f=!1;break;case Object:case u:f={};break;case Array:f=[];break;default:if(a.__relatedType__==w)f=[];else if(a.__nullable__)f=null;else{k('argument "defaultValue" is required when the "Type" given is not String, Number, Boolean or a nullable type.');
return}}else if(1<arguments.length&&!n(f,a)){k('arguments "defaultValue" and "Type" given doesn\'t match.');return}return{__type__:s.option,RelatedType:a,defaultValue:f,__name__:y(a)}}k('argument "Type" given is invalid.')}else k("no argument given.")}function A(a){if(arguments.length){if(r(a))return{__type__:s.params,RelatedType:a,__name__:y(a)};k('argument "Type" given is invalid.')}else k("no argument given.")}function H(a){if(arguments.length){if(r(a))return{__type__:s.normal,__nullable__:!0,
__isInstance__:function(f){return null==f||n(f,a)},__name__:y(a)+"?"};k('argument "Type" given is invalid.')}else k("no argument given.")}function E(a,f,d){var e="",b=0;n(arguments[b],String)&&(e=arguments[b],b++);var q,m;if(n(arguments[b],Array))q=arguments[b++];else{var g=arguments.length-1;q=[];for(b;b<g;b++)q.push(arguments[b])}if(arguments.length<=b)k('"fn" is missing.');else{m=arguments[b];g=[];for(b=0;b<q.length;b++){var p=q[b];if(!M(p)&&!r(p)){k("invalid parameter type.");return}g.push(y(p))}null==
m&&(m=function(){});if("function"!=typeof m)k('"fn" should be null or a function.');else{m=m.toString().match(/\((.*)\)/)[1].match(/[^,\s]+/g)||[];for(b=0;b<g.length;b++)g[b]+=" "+(m[b]||"p"+(b+1));var i={__type__:s.delegate,__RelatedTypes__:q,__isInstance__:function(a){return"function"==typeof a},__name__:(e||"delegate")+"("+g.join(", ")+")",with_:function(a){if(r(a))return i.__RelatedThisType__=a,delete i.with_,delete i.bind_,i;k('argument "Type" given is invalid.')},bind_:function(a){if(n(a,Object))return i.__relatedThisObject__=
{value:a},delete i.with_,delete i.bind_,i;k()},as_:function(a){if(r(a))return i.__RelatedReturnType__=a,i.__name__=y(a)+" "+i.__name__,delete i.as_,i;k('argument "Type" given is invalid.')}};return i}}}function h(a,f){var d=new S,e=function(){return d.exec(this,arguments)};e._=function(a,f){if(0==arguments.length)return k("at least one argument is required.");for(var m=[],g=arguments.length-1,p=0;p<g;p++){var i=arguments[p];if(!M(i)&&!r(i)){k("invalid parameter type.");return}m.push(i)}f=arguments[g];
if("function"!=typeof f)k('"fn" must be a function');else{var c=new T(m,f);d.add(c);e.as_=function(a){if(r(a))return c.ReturnType=a,delete e.as_,e;k('argument "Type" given is invalid.')};e.with_=function(a){if(r(a))return c.ThisType=a,delete e.with_,delete e.bind_,e;k('argument "Type" given is invalid.')};e.bind_=function(a){if(n(a,Object))return c.thisObject={value:a},delete e.with_,delete e.bind_,e;k()};e.static_=function(a){if(n(a,u)){c.staticObject=a;for(a=0;a<params.length;a++)params[a].name=
names[a+1];delete e.static_;return e}k('"staticObject" must be a plain object.')};return e}};e.toString=function(){return d.toString()};arguments.length&&e._.apply(e,arguments);return e}function y(a,f){var d;a.__name__?d=a.__name__:"function"==typeof a&&(d=/^function\s([^\(]*)/.exec(a.toString())[1]);"string"!=typeof d&&(d=1==arguments.length?"UnnamedType":f);return d}function T(a,f){this.Types=a;this.staticObject=this.ReturnType=this.ThisType=this.thisObject=void 0;for(var d=[],e=[],b,q=a.length,
m=0,g=0,p=0;p<q;p++){var i=this.Types[p];switch("function"==typeof i?s.normal:i?i.__type__||s.normal:void 0){case s.normal:case s.delegate:0==g?m++:3>g&&(g=3);d.push(i);break;case s.option:1>g&&(g=1);if(1<g){k('"option" parameter position invalid.');return}e.push(i);break;case s.params:if(2>g)g=2,b=i.RelatedType;else{2<g?k('"params" parameter position invalid.'):k('"params" parameter can only appear once in an overload.');return}}}this.exec=function(a,p){var q={match:!1,value:void 0};if(this.ThisType&&
!n(a,this.ThisType))return q;this.thisObject&&(a=this.thisObject.value);var g=p.length-d.length;if(0>g||!b&&g>e.length)return q;var i=[];this.staticObject&&i.push(this.staticObject);for(var c=0;c<m;c++){var l=p[c],j=d[c];if(!n(l,j))return q;j.__type__==s.delegate&&(l=h.apply(null,j.__RelatedTypes__.concat(l)),j.__relatedThisObject__?l.bind_(j.__relatedThisObject__.value):j.__RelatedThisType__&&l.with_(j.__RelatedThisType__),j.__RelatedReturnType__&&l.as_(j.__RelatedReturnType__));i.push(l)}for(var r=
Math.min(g,e.length),c=0;c<e.length;c++){l=c<r?p[c+m]:e[c].defaultValue;j=e[c].RelatedType;if(!n(l,j))return q;j.__type__==s.delegate&&(l=h.apply(null,j.__RelatedTypes__.concat(l)),j.__relatedThisObject__?l.bind_(j.__relatedThisObject__.value):j.__RelatedThisType__&&l.with_(j.__RelatedThisType__),j.__RelatedReturnType__&&l.as_(j.__RelatedReturnType__));i.push(l)}var t=g+m,c=m+r;if(1==g-r&&n(p[c],w(b)))i.push(U.call(p[c]));else if(b){for(r=[];c<t;c++){l=p[c];j=b;if(!n(l,j))return q;j.__type__==s.delegate&&
(l=h.apply(null,j.__RelatedTypes__.concat(l)),j.__relatedThisObject__?l.bind_(j.__relatedThisObject__.value):j.__RelatedThisType__&&l.with_(j.__RelatedThisType__),j.__RelatedReturnType__&&l.as_(j.__RelatedReturnType__));r.push(l)}i.push(r)}for(c=m;c<d.length;c++){l=p[c+g];j=d[c];if(!n(l,j))return q;j.__type__==s.delegate&&(l=h.apply(null,j.__RelatedTypes__.concat(l)),j.__relatedThisObject__?l.bind_(j.__relatedThisObject__.value):j.__RelatedThisType__&&l.with_(j.__RelatedThisType__),j.__RelatedReturnType__&&
l.as_(j.__RelatedReturnType__));i.push(l)}g=f.apply(a,i);if(this.ReturnType&&!n(g,this.ReturnType))k("the function returned a value ("+g+") doesn't match the type ("+y(this.ReturnType)+") specified.");else return q.match=!0,q.value=g,q};this.toString=function(){return f.toString()}}function S(){var a=[];this.add=function(f){a.push(f)};this.exec=function(f,d){for(var e=0;e<a.length;e++){var b=a[e].exec(f,d);if(b.match)return b.value}k("no overload matches arguments given.")};this.toString=function(){return a.join("\n-\n")}}
function u(){return{}}function w(a){return{__isInstance__:function(f){if(!n(f,Array))return!1;for(var d=0;d<f.length;d++)if(!n(f[d],a))return!1;return!0},__relatedType__:w,__name__:y(a)+"[]"}}function F(){return{__relatedInstance__:function(){}}}function x(a){return new Number(0<arguments.length?Math.floor(a):0)}function I(a,f){function d(a,b){this.toString=function(){return a};this.valueOf=function(){return b};this.test=h(d,function(a){return!!(this&a)})}var e=f.length;if(32<e)k("the length of enumeration list has exceeded the limit of 32.");
else{d.__isInstance__=function(a){return a instanceof d||n(a,x)&&a<1<<e+1};d.__name__=a;for(var b=0;b<e;b++)d[f[b]]=new d(f[b],1<<b);return d}}function N(a,f){var d={},e={inheritInfo:void 0,staticBody:void 0,ClassBody:f,Class:void 0},b,c=function(){for(var a=[],g=e;g=g.inheritInfo;)a.unshift(g.ClassBody);this._=function(){};for(var p=0;p<a.length;p++)if(g=a[p].call(this,c,d)){var i=typeof g;("function"==i||"object"==i)&&z(g,this,!0)}var B;this._=function(a,b){B?B._.apply(this,arguments).bind_(this):
B=h.apply(this,arguments).bind_(this)};g=f.call(this,c,d);delete this._;B&&B.apply(this,arguments);if(g&&(i=typeof g,"function"==i||"object"==i))z(this,g,!1),g.constructor=c;if(b){a=g||this;if(!n(a,b)){k("some of the items defined in the interface are not implemented.");return}O(a,b)}return g};c.__name__=a;c.__classInfo__=e;c.static_=h(u,function(a){delete c.static_;e.staticBody=a;z(a,d,!0);return c});c.static_._(Function,function(a){delete c.static_;e.staticBody=a;P(c,d,a,!0);return c});c.inherit_=
h(Function,function(a){delete c.inherit_;var b=a.__classInfo__;if(b){e.inheritInfo=b;do a=b.staticBody,"function"==typeof a?P(c,d,a,!1):z(a,d,!1);while(b=b.inheritInfo)}else e.inheritInfo={ClassBody:a,Class:a};return c});c.implement_=h(C,function(a){delete c.inherit_;delete c.implement_;b=a;return c});return e.Class=c}function P(a,f,d,e){var b={private_:h(u,function(a){delete b.private_;z(a,f,e)}),public_:h(u,function(d){delete b.public_;z(d,a,e)})};d.call(b,a,f)}function O(a,f){for(var d=f.__list__,
e=0;e<d.length;e++){var b=d[e],c=b.name,b=b.Type,m=a[c];b.__type__==s.delegate?(m=h.apply(null,b.__RelatedTypes__.concat(m)),b.__relatedThisObject__?m.bind_(b.__relatedThisObject__.value):b.__RelatedThisType__&&m.with_(b.__RelatedThisType__),b.__RelatedReturnType__&&m.as_(b.__RelatedReturnType__),a[c]=m):n(b,C)&&O(m,b)}}function J(a,c){var d=[],e={},b;for(b in c)v.call(c,b)&&(d.push({name:b,Type:c[b]}),e[b]=!0);var h=new C;h.__isInstance__=function(a){if(!a)return!1;for(var b=0;b<d.length;b++){var c=
d[b];if(!n(a[c.name],c.Type))return!1}return!0};h.__name__=a;h.__list__=d;h.inherit_=function(a){if(n(a,C)){for(var a=a.__list__||[],b=0;b<a.length;b++){var c=a[b];v.call(e,c.name)||(d.push(c),e[c.name]=!0)}return h}k("parameter target should be Interface.")};return h}function C(){}function Q(a){for(var c=document.getElementsByTagName("head")[0],d=0;d<a.length;d++){var e=a[d];if(v.call(R,e))break;R[e]=!0;var b=document.createElement("script");b.type="text/javascript";b.async="async";b.src=e;c.insertBefore(b,
c.firstChild)}}var c=function(){return this}(),v=Object.prototype.hasOwnProperty,U=Array.prototype.slice,s={normal:0,option:1,params:2,delegate:3};c._=h;c.opt_=D;c.params_=A;c.nul_=H;c.delegate_=E;var K=J("IList",{length:x});u.__isInstance__=function(a){return!!a&&"object"==typeof a&&a.constructor==Object};F.__isInstance__=function(a){return r(a)};x.__isInstance__=function(a){return"number"==typeof a&&0==a%1};c.PlainObject=u;c.IList=K;c.List=h(F,w);c.Type=F;c.Integer=x;"Add __name__";for(var t in c)"function"==
typeof c[t]&&(/[A-Z]/.test(t.charAt(0))&&!c[t].__name__)&&(c[t].__name__=t);var L="Number String Boolean RegExp Array Function Object".split(" ");for(t=0;t<L.length;t++)c[L[t]].__name__=L[t];c.is_=h(H(Object),F,n).as_(Boolean);c.for_=h(K,E(Object,x,x,null),function(a,c){for(var d=0;d<a.length;){var e=c(a[d],d,a.length);if(!1===e)return!1;"number"==typeof e?d+=e:d++}return!0}).as_(Boolean);c.for_._(A(K),Function,function(a,c){var d=[],e=[],b;for(b=0;b<a.length;b++){if(0==a[b].length)return!0;d[b]=
0;e[b]=a[b][0]}do{if(!1===c.apply(null,e))return!1;for(b=a.length-1;0<=b;b--)if(d[b]++,d[b]<a[b].length){e[b]=a[b][d[b]];break}else d[b]=0,e[b]=a[b][0]}while(0<=b);return!0}).as_(Boolean);c.forin_=h(Object,E(Object,String,null),function(a,c){for(var d in a)if(v.call(a,d)&&!1===c(a[d],d))return!1;return!0}).as_(Boolean);c.enum_=h(String,w(String),I);c.enum_._(A(String),function(a){return I("",a)});c.class_=h(D(String),Function,N);c.Interface=C;c.interface_=h(D(String),u,J);var G=new function(){function a(a,
b){for(var c=a.length,d=[],e=0;e<a.length;e++)(function(e){function g(){d[e]=h.module;c--;if(0==c)try{b.apply(null,d)}catch(a){k(a)}}var h=f(a[e]);h.ready?g():h.callbacks.push(g)})(e)}function f(a){var c=a.match(/^[^\/]+/)[0],e=d(a),h=c==a;e||(e={module:h?{delegate_:b,enum_:q,class_:m,interface_:g}:f(c).module,isRoot:h,ready:!1,created:!1,callbacks:[]},d(a,e));return e}var d,e={};d=function(a,b){2==arguments.length&&(e[a]=b);return v.call(e,a)?e[a]:void 0};this.addUse=a;this.addModule=function(b,
e,d){function g(){h.ready=!0;h.isRoot&&(delete k.delegate_,delete k.enum_,delete k.class_,delete k.interface_);var a=h.callbacks;if(0<a.length){for(var b=0;b<a.length;b++)a[b]();a.length=0}}var h=f(b),k=h.module;if(h.created)c.console&&console.warn('module "'+b+'" already exists.');else if(h.created=!0,d&&d.call(k),0<e.length){b+="/";for(d=0;d<e.length;d++){var m=e[d];0!=m.indexOf(b)&&(e[d]=b+m)}a(e,g)}else g()};this.getModule=function(a){if((a=d(a))&&a.isRoot&&a.ready)return a.module};var b=function(a,
b,c){if(!n(a,String)||0==a.length)k('"name" must be a non-empty string.');else return this[a]=E.apply(this,arguments)},q=h(String,w(String),function(a,b){return this[a]=I(a,b)}),m=h(String,Function,function(a,b){return this[a]=N(a,b)}),g=h(String,u,function(a,b){return this[a]=J(a,b)})};c.module_=h(String,Function,function(a,c){G.addModule(a,[],c)});c.module_._(String,w(String),D(H(Function)),function(a,c,d){G.addModule(a,c,d)});c.use_=h(A(String),Function,function(a,c){G.addUse(a,c)});c.import_=
h(String,function(a){var f=G.getModule(a);if(f)return f;c.console&&console.warn('module "'+a+'" has not been loaded.')});var R={};c.require_=h(A(String),Q);c.require_._(String,w(String),function(a,c){for(var d=0;d<c.length;d++)c[d]=a+c[d];return Q(c)})})();