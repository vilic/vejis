/* VEJIS v0.5.0.11 http://vejis.org */
(function(){function k(a){throw Error(a);}function y(a,b,d){if(d)for(var e in a)u.call(a,e)&&(b[e]=a[e]);else for(e in a)u.call(a,e)&&!u.call(b,e)&&(b[e]=a[e])}function m(a,b){a&&a.__relatedInstance__&&(a=a.__relatedInstance__);if(b.__isInstance__)return b.__isInstance__(a);if(null!=a&&b===Object)return!0;switch(typeof a){case "object":case "function":if(a)for(var d=a.constructor;d;){if(d==b||d.prototype instanceof b)return!0;d=d.__classInfo__&&d.__classInfo__.inheritInfo?d.__classInfo__.inheritInfo.Class:null}case "undefined":return a instanceof
b;default:return new a.constructor instanceof b}}function p(a){return"function"==typeof a||"object"==typeof a&&!!a&&!!a.__isInstance__}function M(a){return"object"==typeof a&&!!a&&"number"==typeof a.__type__}function C(a,b){if(arguments.length){if(p(a)){if(1==arguments.length)switch(a){case Number:case w:b=0;break;case String:b="";break;case Boolean:b=!1;break;case Object:case t:b={};break;case Array:b=[];break;default:if(a.__relatedType__==v)b=[];else if(a.__nullable__)b=null;else{k('argument "defaultValue" is required when the "Type" given is not String, Number, Boolean or a nullable type.');
return}}else if(1<arguments.length&&!m(b,a)){k('arguments "defaultValue" and "Type" given doesn\'t match.');return}return{__type__:q.option,RelatedType:a,defaultValue:b,__name__:x(a)}}k('argument "Type" given is invalid.')}else k("no argument given.")}function z(a){if(arguments.length){if(p(a))return{__type__:q.params,RelatedType:a,__name__:x(a)};k('argument "Type" given is invalid.')}else k("no argument given.")}function H(a){if(arguments.length){if(p(a))return{__type__:q.normal,__nullable__:!0,
__isInstance__:function(b){return null==b||m(b,a)},__name__:x(a)+"?"};k('argument "Type" given is invalid.')}else k("no argument given.")}function D(a,b,d){var e="",c=0;m(arguments[c],String)&&(e=arguments[c],c++);var i,l;if(m(arguments[c],Array))i=arguments[c++];else{var g=arguments.length-1;i=[];for(c;c<g;c++)i.push(arguments[c])}if(arguments.length<=c)k('"fn" is missing.');else{l=arguments[c];g=[];for(c=0;c<i.length;c++){var n=i[c];if(!M(n)&&!p(n)){k("invalid parameter type.");return}g.push(x(n))}null==
l&&(l=function(){});if("function"!=typeof l)k('"fn" should be null or a function.');else{l=l.toString().match(/\((.*?)\)/)[1].match(/[^,\s]+/g)||[];for(c=0;c<g.length;c++)g[c]+=" "+(l[c]||"p"+(c+1));var j={__type__:q.delegate,__RelatedTypes__:i,__isInstance__:function(a){return"function"==typeof a},__name__:(e||"delegate")+"("+g.join(", ")+")",with_:function(a){if(p(a))return j.__RelatedThisType__=a,delete j.with_,delete j.bind_,j;k('argument "Type" given is invalid.')},bind_:function(a){if(m(a,Object))return j.__relatedThisObject__=
{value:a},delete j.with_,delete j.bind_,j;k()},as_:function(a){if(p(a))return j.__RelatedReturnType__=a,j.__name__=x(a)+" "+j.__name__,delete j.as_,j;k('argument "Type" given is invalid.')}};return j}}}function h(a,b){var d=new S,e=function(){return d.exec(this,arguments)};e._=function(a,b){if(0==arguments.length)return k("at least one argument is required.");for(var l=[],g=arguments.length-1,n=0;n<g;n++){var j=arguments[n];if(!M(j)&&!p(j)){k("invalid parameter type.");return}l.push(j)}b=arguments[g];
if("function"!=typeof b)k('"fn" must be a function');else{var A=new T(l,b);d.add(A);e.as_=function(a){if(p(a))return A.ReturnType=a,delete e.as_,e;k('argument "Type" given is invalid.')};e.with_=function(a){if(p(a))return A.ThisType=a,delete e.with_,delete e.bind_,e;k('argument "Type" given is invalid.')};e.bind_=function(a){if(m(a,Object))return A.thisObject={value:a},delete e.with_,delete e.bind_,e;k()};e.static_=function(a){if(m(a,t)){A.staticObject=a;for(a=0;a<params.length;a++)params[a].name=
names[a+1];delete e.static_;return e}k('"staticObject" must be a plain object.')};return e}};e.toString=function(){return d.toString()};arguments.length&&e._.apply(e,arguments);return e}function x(a,b){var d;a.__name__?d=a.__name__:"function"==typeof a&&(d=/^function\s([^\(]*)/.exec(a.toString())[1]);"string"!=typeof d&&(d=1==arguments.length?"UnnamedType":b);return d}function E(a,b){a=h.apply(null,b.__RelatedTypes__.concat(a));b.__relatedThisObject__?a.bind_(b.__relatedThisObject__.value):b.__RelatedThisType__&&
a.with_(b.__RelatedThisType__);b.__RelatedReturnType__&&a.as_(b.__RelatedReturnType__);return a}function T(a,b){this.Types=a;this.staticObject=this.ReturnType=this.ThisType=this.thisObject=void 0;for(var d=[],e=[],c,i=a.length,l=0,g=0,n=0;n<i;n++){var j=this.Types[n];switch("function"==typeof j?q.normal:j?j.__type__||q.normal:void 0){case q.normal:case q.delegate:0==g?l++:3>g&&(g=3);d.push(j);break;case q.option:1>g&&(g=1);if(1<g){k('"option" parameter position invalid.');return}e.push(j);break;case q.params:if(2>
g)g=2,c=j.RelatedType;else{2<g?k('"params" parameter position invalid.'):k('"params" parameter can only appear once in an overload.');return}}}this.exec=function(a,n){var i={match:!1,value:void 0};if(this.ThisType&&!m(a,this.ThisType))return i;this.thisObject&&(a=this.thisObject.value);var g=n.length-d.length;if(0>g||!c&&g>e.length)return i;var j=[];this.staticObject&&j.push(this.staticObject);for(var f=0;f<l;f++){var h=n[f],r=d[f];if(!m(h,r))return i;r.__type__==q.delegate&&(h=E(h,r));j.push(h)}for(var p=
Math.min(g,e.length),f=0;f<e.length;f++){h=f<p?n[f+l]:e[f].defaultValue;r=e[f].RelatedType;if(!m(h,r))return i;r.__type__==q.delegate&&(h=E(h,r));j.push(h)}var s=g+l,f=l+p;if(1==g-p&&m(n[f],v(c)))j.push(U.call(n[f]));else if(c){for(p=[];f<s;f++){h=n[f];r=c;if(!m(h,r))return i;r.__type__==q.delegate&&(h=E(h,r));p.push(h)}j.push(p)}for(f=l;f<d.length;f++){h=n[f+g];r=d[f];if(!m(h,r))return i;r.__type__==q.delegate&&(h=E(h,r));j.push(h)}g=b.apply(a,j);if(this.ReturnType&&!m(g,this.ReturnType))k("the function returned a value ("+
g+") doesn't match the type ("+x(this.ReturnType)+") specified.");else return i.match=!0,i.value=g,i};this.toString=function(){return b.toString()}}function S(){var a=[];this.add=function(b){a.push(b)};this.exec=function(b,d){for(var e=0;e<a.length;e++){var c=a[e].exec(b,d);if(c.match)return c.value}k("no overload matches arguments given.")};this.toString=function(){return a.join("\n-\n")}}function t(){return{}}function v(a){return{__isInstance__:function(b){if(!m(b,Array))return!1;for(var d=0;d<
b.length;d++)if(!m(b[d],a))return!1;return!0},__relatedType__:v,__name__:x(a)+"[]"}}function F(){return{__relatedInstance__:function(){}}}function w(a){return new Number(0<arguments.length?Math.floor(a):0)}function I(a,b){function d(a,b){this.toString=function(){return a};this.valueOf=function(){return b};this.test=h(d,function(a){return!!(this&a)})}var e=b.length;if(32<e)k("the length of enumeration list has exceeded the limit of 32.");else{d.__isInstance__=function(a){return a instanceof d||m(a,
w)&&a<1<<e+1};d.__name__=a;for(var c=0;c<e;c++)d[b[c]]=new d(b[c],1<<c);return d}}function N(a,b){var d={},e={inheritInfo:void 0,staticBody:void 0,ClassBody:b,Class:void 0},c,i=function(){for(var a=[],g=e;g=g.inheritInfo;)a.unshift(g.ClassBody);this._=function(){};for(var n=0;n<a.length;n++)if(g=a[n].call(this,i,d)){var j=typeof g;("function"==j||"object"==j)&&y(g,this,!0)}var f;this._=function(a,b){f?f._.apply(this,arguments).bind_(this):f=h.apply(this,arguments).bind_(this)};g=b.call(this,i,d);
delete this._;f||(f=h.call(null,function(){}));f.apply(this,arguments);a=this;if(g&&(j=typeof g,"function"==j||"object"==j))y(this,g,!1),g.constructor=i,a=g;if(c){if(!m(a,c)){k("some of the items defined in the interface are not implemented.");return}O(a,c)}return g};i.__name__=a;i.__classInfo__=e;i.static_=h(t,function(a){delete i.static_;e.staticBody=a;y(a,d,!0);return i});i.static_._(Function,function(a){delete i.static_;e.staticBody=a;P(i,d,a,!0);return i});i.inherit_=h(Function,function(a){delete i.inherit_;
var b=a.__classInfo__;if(b){e.inheritInfo=b;do a=b.staticBody,"function"==typeof a?P(i,d,a,!1):y(a,d,!1);while(b=b.inheritInfo)}else e.inheritInfo={ClassBody:a,Class:a};return i});i.implement_=h(B,function(a){delete i.inherit_;delete i.implement_;c=a;return i});return e.Class=i}function P(a,b,d,e){var c={private_:h(t,function(a){delete c.private_;y(a,b,e)}),public_:h(t,function(b){delete c.public_;y(b,a,e)})};d.call(c,a,b)}function O(a,b){for(var d=b.__list__,e=0;e<d.length;e++){var c=d[e],f=c.name,
c=c.Type,l=a[f];c.__type__==q.delegate?(l=h.apply(null,c.__RelatedTypes__.concat(l)),c.__relatedThisObject__?l.bind_(c.__relatedThisObject__.value):c.__RelatedThisType__&&l.with_(c.__RelatedThisType__),c.__RelatedReturnType__&&l.as_(c.__RelatedReturnType__),a[f]=l):m(c,B)&&O(l,c)}}function J(a,b){var d=[],e={},c;for(c in b)u.call(b,c)&&(d.push({name:c,Type:b[c]}),e[c]=!0);var f=new B;f.__isInstance__=function(a){if(!a)return!1;for(var b=0;b<d.length;b++){var c=d[b];if(!m(a[c.name],c.Type))return!1}return!0};
f.__name__=a;f.__list__=d;f.inherit_=function(a){if(m(a,B)){for(var a=a.__list__||[],b=0;b<a.length;b++){var c=a[b];u.call(e,c.name)||(d.push(c),e[c.name]=!0)}return f}k("parameter target should be Interface.")};return f}function B(){}function Q(a){for(var b=document.getElementsByTagName("head")[0],d=0;d<a.length;d++){var e=a[d];if(u.call(R,e))break;R[e]=!0;var c=document.createElement("script");c.type="text/javascript";c.async="async";c.src=e;b.insertBefore(c,b.firstChild)}}var f=function(){return this}(),
u=Object.prototype.hasOwnProperty,U=Array.prototype.slice,q={normal:0,option:1,params:2,delegate:3};f._=h;f.opt_=C;f.params_=z;f.nul_=H;f.delegate_=D;var K=J("IList",{length:w});t.__isInstance__=function(a){return!!a&&"object"==typeof a&&a.constructor==Object};F.__isInstance__=function(a){return p(a)};w.__isInstance__=function(a){return"number"==typeof a&&0==a%1};f.PlainObject=t;f.IList=K;f.List=h(F,v);f.Type=F;f.Integer=w;"Add __name__";for(var s in f)"function"==typeof f[s]&&(/[A-Z]/.test(s.charAt(0))&&
!f[s].__name__)&&(f[s].__name__=s);var L="Number String Boolean RegExp Array Function Object".split(" ");for(s=0;s<L.length;s++)f[L[s]].__name__=L[s];f.is_=h(H(Object),F,m).as_(Boolean);f.for_=h(K,D(Object,w,w,null),function(a,b){for(var d=0;d<a.length;){var e=b(a[d],d,a.length);if(!1===e)return!1;"number"==typeof e?d+=e:d++}return!0}).as_(Boolean);f.for_._(z(K),Function,function(a,b){var d=[],e=[],c;for(c=0;c<a.length;c++){if(0==a[c].length)return!0;d[c]=0;e[c]=a[c][0]}do{if(!1===b.apply(null,e))return!1;
for(c=a.length-1;0<=c;c--)if(d[c]++,d[c]<a[c].length){e[c]=a[c][d[c]];break}else d[c]=0,e[c]=a[c][0]}while(0<=c);return!0}).as_(Boolean);f.forin_=h(Object,D(Object,String,null),function(a,b){for(var d in a)if(u.call(a,d)&&!1===b(a[d],d))return!1;return!0}).as_(Boolean);f.enum_=h(String,v(String),I);f.enum_._(z(String),function(a){return I("",a)});f.class_=h(C(String),Function,N);f.Interface=B;f.interface_=h(C(String),t,J);var G=new function(){function a(a,c){for(var d=a.length,e=[],f=0;f<a.length;f++)(function(f){function g(){e[f]=
h.module;d--;if(0==d)try{c.apply(null,e)}catch(a){k(a)}}var h=b(a[f]);h.ready?g():h.callbacks.push(g)})(f)}function b(a){var e=a.match(/^[^\/]+/)[0],f=d(a),h=e==a;f||(f={module:h?{delegate_:c,enum_:i,class_:l,interface_:g}:b(e).module,isRoot:h,ready:!1,created:!1,callbacks:[]},d(a,f));return f}var d,e={};d=function(a,b){2==arguments.length&&(e[a]=b);return u.call(e,a)?e[a]:void 0};this.addUse=a;this.addModule=function(c,d,e){function h(){g.ready=!0;g.isRoot&&(delete i.delegate_,delete i.enum_,delete i.class_,
delete i.interface_);var a=g.callbacks;if(0<a.length){for(var b=0;b<a.length;b++)a[b]();a.length=0}}var g=b(c),i=g.module;if(g.created)f.console&&console.warn('module "'+c+'" already exists.');else if(g.created=!0,e&&e.call(i),0<d.length){c+="/";for(e=0;e<d.length;e++){var k=d[e];0!=k.indexOf(c)&&(d[e]=c+k)}a(d,h)}else h()};this.getModule=function(a){if((a=d(a))&&a.isRoot&&a.ready)return a.module};var c=function(a,b,c){if(!m(a,String)||0==a.length)k('"name" must be a non-empty string.');else return this[a]=
D.apply(this,arguments)},i=h(String,v(String),function(a,b){return this[a]=I(a,b)}),l=h(String,Function,function(a,b){return this[a]=N(a,b)}),g=h(String,t,function(a,b){return this[a]=J(a,b)})};f.module_=h(String,Function,function(a,b){G.addModule(a,[],b)});f.module_._(String,v(String),C(H(Function)),function(a,b,d){G.addModule(a,b,d)});f.use_=h(z(String),Function,function(a,b){G.addUse(a,b)});f.import_=h(String,function(a){var b=G.getModule(a);if(b)return b;f.console&&console.warn('module "'+a+'" has not been loaded.')});
var R={};f.require_=h(z(String),Q);f.require_._(String,v(String),function(a,b){for(var d=0;d<b.length;d++)b[d]=a+b[d];return Q(b)})})();